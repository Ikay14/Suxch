{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\Documents\\\\projects\\\\suxch\\\\chat-client\\\\src\\\\components\\\\Chat\\\\ChatWindow.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { socketService } from '../../services/socket';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ChatWindow = () => {\n  _s();\n  const [connectionStatus, setConnectionStatus] = useState('disconnected');\n  useEffect(() => {\n    var _socketService$socket;\n    // Register connection status change handlers\n    const handleConnectionStatusChange = status => {\n      console.log('Connection status:', status);\n      setConnectionStatus(status);\n    };\n    socketService.onConnect(handleConnectionStatusChange());\n\n    // When the component mounts, try connecting the socket\n    if (!((_socketService$socket = socketService.socket) !== null && _socketService$socket !== void 0 && _socketService$socket.connected)) {\n      setConnectionStatus('connecting');\n      socketService.connectSocketWithRetry(() => setConnectionStatus('connected'));\n    }\n\n    // Cleanup function to handle socket disconnection\n    return () => {\n      console.log('Cleaning up WebSocket connection...');\n      socketService.disconnect();\n      setConnectionStatus('disconnected');\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Chat Window\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Connection Status: \", connectionStatus]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 5\n  }, this);\n};\n_s(ChatWindow, \"kociqmNr42F9EqyIxcbOgpi3cqA=\");\n_c = ChatWindow;\nexport default ChatWindow;\nvar _c;\n$RefreshReg$(_c, \"ChatWindow\");","map":{"version":3,"names":["React","useState","useEffect","socketService","jsxDEV","_jsxDEV","ChatWindow","_s","connectionStatus","setConnectionStatus","_socketService$socket","handleConnectionStatusChange","status","console","log","onConnect","socket","connected","connectSocketWithRetry","disconnect","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/DELL/Documents/projects/suxch/chat-client/src/components/Chat/ChatWindow.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { socketService } from '../../services/socket'\n\nconst ChatWindow = () => {\n  const [connectionStatus, setConnectionStatus] = useState<'connected' | 'connecting' | 'disconnected'>('disconnected');\n\n  useEffect(() => {\n    // Register connection status change handlers\n    const handleConnectionStatusChange = (status: 'connected' | 'connecting' | 'disconnected' | 'error') => {\n      console.log('Connection status:', status);\n      setConnectionStatus(status);\n    };\n\n    socketService.onConnect(handleConnectionStatusChange());\n\n    // When the component mounts, try connecting the socket\n    if (!socketService.socket?.connected) {\n      setConnectionStatus('connecting');\n      socketService.connectSocketWithRetry(() => setConnectionStatus('connected'));\n    }\n\n    // Cleanup function to handle socket disconnection\n    return () => {\n      console.log('Cleaning up WebSocket connection...');\n      socketService.disconnect();\n      setConnectionStatus('disconnected');\n    };\n  }, []);\n\n  return (\n    <div>\n      <h1>Chat Window</h1>\n      <p>Connection Status: {connectionStatus}</p>\n      {/* Render your chat UI here */}\n    </div>\n  );\n};\n\nexport default ChatWindow;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,aAAa,QAAQ,uBAAuB;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAErD,MAAMC,UAAU,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACvB,MAAM,CAACC,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGR,QAAQ,CAA8C,cAAc,CAAC;EAErHC,SAAS,CAAC,MAAM;IAAA,IAAAQ,qBAAA;IACd;IACA,MAAMC,4BAA4B,GAAIC,MAA6D,IAAK;MACtGC,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEF,MAAM,CAAC;MACzCH,mBAAmB,CAACG,MAAM,CAAC;IAC7B,CAAC;IAEDT,aAAa,CAACY,SAAS,CAACJ,4BAA4B,CAAC,CAAC,CAAC;;IAEvD;IACA,IAAI,GAAAD,qBAAA,GAACP,aAAa,CAACa,MAAM,cAAAN,qBAAA,eAApBA,qBAAA,CAAsBO,SAAS,GAAE;MACpCR,mBAAmB,CAAC,YAAY,CAAC;MACjCN,aAAa,CAACe,sBAAsB,CAAC,MAAMT,mBAAmB,CAAC,WAAW,CAAC,CAAC;IAC9E;;IAEA;IACA,OAAO,MAAM;MACXI,OAAO,CAACC,GAAG,CAAC,qCAAqC,CAAC;MAClDX,aAAa,CAACgB,UAAU,CAAC,CAAC;MAC1BV,mBAAmB,CAAC,cAAc,CAAC;IACrC,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,oBACEJ,OAAA;IAAAe,QAAA,gBACEf,OAAA;MAAAe,QAAA,EAAI;IAAW;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACpBnB,OAAA;MAAAe,QAAA,GAAG,qBAAmB,EAACZ,gBAAgB;IAAA;MAAAa,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAEzC,CAAC;AAEV,CAAC;AAACjB,EAAA,CAjCID,UAAU;AAAAmB,EAAA,GAAVnB,UAAU;AAmChB,eAAeA,UAAU;AAAC,IAAAmB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}