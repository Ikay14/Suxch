{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\Documents\\\\projects\\\\suxch\\\\chat-client\\\\src\\\\components\\\\Chat\\\\ChatWindow.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport './ChatWindow.css';\nimport MessageList from './MessageList';\nimport MessageInput from './MessageInput';\nimport UploadedFiles from './UploadedFiles';\nimport io from 'socket.io-client';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst SOCKET_SERVER_URL = 'http://localhost:/chat';\nconst ChatWindow = () => {\n  _s();\n  const {\n    userId,\n    receiverId\n  } = useParams();\n  const navigate = useNavigate();\n  const [uploadedFiles, setUploadedFiles] = useState([]);\n  const [socket, setSocket] = useState(null);\n  const [messages, setMessages] = useState([]);\n  const [clientId, setClientId] = useState(null);\n  const [connectionStatus, setConnectionStatus] = useState('connecting');\n\n  // Initialize socket connection\n  const initSocket = useCallback(() => {\n    const token = localStorage.getItem('token');\n    const storedUserId = localStorage.getItem('userId');\n    if (!token || !storedUserId || storedUserId !== userId) {\n      navigate('/login');\n      return null;\n    }\n\n    // Reuse existing socket if available\n    if (window.socket && window.socket.connected) {\n      setSocket(window.socket);\n      setClientId(window.socket.id || null);\n      return window.socket;\n    }\n    const socketOptions = {\n      path: '/chat/socket.io',\n      auth: {\n        token: `Bearer ${token}`\n      },\n      query: {\n        userId\n      },\n      transports: ['websocket'],\n      reconnectionAttempts: 5,\n      reconnectionDelay: 1000\n    };\n    const newSocket = io(SOCKET_SERVER_URL, socketOptions);\n    newSocket.on('connect', () => {\n      console.log('Connected with ID:', newSocket.id);\n      setClientId(newSocket.id || null);\n      setConnectionStatus('connected');\n      if (receiverId) {\n        newSocket.emit('join_conversation', {\n          userId,\n          receiverId\n        });\n      }\n    });\n    newSocket.on('disconnect', () => {\n      setConnectionStatus('disconnected');\n    });\n    newSocket.on('connect_error', err => {\n      console.error('Connection error:', err);\n      if (err.message.includes('auth')) {\n        localStorage.clear();\n        navigate('/login');\n      }\n    });\n    newSocket.on('new_message', message => {\n      setMessages(prev => [...prev, message]);\n    });\n    newSocket.on('file-sent', fileMessage => {\n      setMessages(prev => [...prev, fileMessage]);\n    });\n\n    // Store socket globally\n    window.socket = newSocket;\n    setSocket(newSocket);\n    return newSocket;\n  }, [userId, receiverId, navigate]);\n  useEffect(() => {\n    const newSocket = initSocket();\n    return () => {\n      // Clean up listeners but keep the connection alive\n      newSocket === null || newSocket === void 0 ? void 0 : newSocket.off('connect');\n      newSocket === null || newSocket === void 0 ? void 0 : newSocket.off('disconnect');\n      newSocket === null || newSocket === void 0 ? void 0 : newSocket.off('connect_error');\n      newSocket === null || newSocket === void 0 ? void 0 : newSocket.off('new_message');\n      newSocket === null || newSocket === void 0 ? void 0 : newSocket.off('file-sent');\n    };\n  }, [initSocket]);\n  const handleFileUpload = event => {\n    var _event$target$files;\n    if ((_event$target$files = event.target.files) !== null && _event$target$files !== void 0 && _event$target$files[0] && socket) {\n      const file = event.target.files[0];\n      setUploadedFiles(prev => [...prev, file]);\n      const formData = new FormData();\n      formData.append('file', file);\n      formData.append('senderId', userId !== null && userId !== void 0 ? userId : 'defaultUserId');\n      if (receiverId) {\n        formData.append('receiverId', receiverId);\n      }\n      socket.emit('fileUpload', formData, response => {\n        if (response.status !== 'success') {\n          console.error('File upload failed:', response.message);\n        }\n      });\n    }\n  };\n  const handleSendMessage = message => {\n    if (socket) {\n      const messageData = receiverId ? {\n        senderId: userId,\n        receiverId,\n        content: message\n      } : {\n        senderId: userId,\n        content: message\n      };\n      socket.emit('send_message', messageData, response => {\n        if (response.status !== 'success') {\n          console.error('Message sending failed:', response.message);\n        }\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chat-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Chat Room - User: \", localStorage.getItem('username')]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 9\n      }, this), clientId && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Connection ID: \", clientId]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Status: \", connectionStatus]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-content\",\n      children: userId && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(MessageList, {\n          messages: messages,\n          currentUserId: userId\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(UploadedFiles, {\n          files: uploadedFiles\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chat-input-area\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"file-upload\",\n            className: \"file-upload-icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"file-upload\",\n            type: \"file\",\n            style: {\n              display: 'none'\n            },\n            onChange: handleFileUpload\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(MessageInput, {\n            onSend: handleSendMessage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 142,\n    columnNumber: 5\n  }, this);\n};\n_s(ChatWindow, \"qe7h1oO0kUEB1dopnJcUJX5oc4A=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = ChatWindow;\nexport default ChatWindow;\nvar _c;\n$RefreshReg$(_c, \"ChatWindow\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useParams","useNavigate","MessageList","MessageInput","UploadedFiles","io","jsxDEV","_jsxDEV","Fragment","_Fragment","SOCKET_SERVER_URL","ChatWindow","_s","userId","receiverId","navigate","uploadedFiles","setUploadedFiles","socket","setSocket","messages","setMessages","clientId","setClientId","connectionStatus","setConnectionStatus","initSocket","token","localStorage","getItem","storedUserId","window","connected","id","socketOptions","path","auth","query","transports","reconnectionAttempts","reconnectionDelay","newSocket","on","console","log","emit","err","error","message","includes","clear","prev","fileMessage","off","handleFileUpload","event","_event$target$files","target","files","file","formData","FormData","append","response","status","handleSendMessage","messageData","senderId","content","className","children","fileName","_jsxFileName","lineNumber","columnNumber","currentUserId","htmlFor","type","style","display","onChange","onSend","_c","$RefreshReg$"],"sources":["C:/Users/DELL/Documents/projects/suxch/chat-client/src/components/Chat/ChatWindow.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport './ChatWindow.css';\nimport MessageList from './MessageList';\nimport MessageInput from './MessageInput';\nimport UploadedFiles from './UploadedFiles';\nimport { FaPaperclip } from 'react-icons/fa';\nimport io, { Socket, ManagerOptions, SocketOptions } from 'socket.io-client';\n\n\nconst SOCKET_SERVER_URL = 'http://localhost:/chat';\n\n\ninterface ChatParams {\n  userId: string;\n  receiverId?: string;\n  [key: string]: string | undefined;\n}\n\nconst ChatWindow: React.FC = () => {\n  const { userId, receiverId } = useParams<ChatParams>();\n  const navigate = useNavigate();\n  const [uploadedFiles, setUploadedFiles] = useState<File[]>([]);\n  const [socket, setSocket] = useState<Socket | null>(null);\n  const [messages, setMessages] = useState<any[]>([]);\n  const [clientId, setClientId] = useState<string | null>(null);\n  const [connectionStatus, setConnectionStatus] = useState<'connecting' | 'connected' | 'disconnected'>('connecting');\n\n  // Initialize socket connection\n  const initSocket = useCallback(() => {\n    const token = localStorage.getItem('token');\n    const storedUserId = localStorage.getItem('userId');\n    \n    if (!token || !storedUserId || storedUserId !== userId) {\n      navigate('/login');\n      return null;\n    }\n\n    // Reuse existing socket if available\n    if (window.socket && window.socket.connected) {\n      setSocket(window.socket);\n      setClientId(window.socket.id || null);\n      return window.socket;\n    }\n\n    const socketOptions: Partial<ManagerOptions & SocketOptions> = {\n      path: '/chat/socket.io',\n      auth: { token: `Bearer ${token}` },\n      query: { userId },\n      transports: ['websocket'],\n      reconnectionAttempts: 5,\n      reconnectionDelay: 1000,\n    };\n\n    const newSocket = io(SOCKET_SERVER_URL, socketOptions);\n\n    newSocket.on('connect', () => {\n      console.log('Connected with ID:', newSocket.id);\n      setClientId(newSocket.id || null);\n      setConnectionStatus('connected');\n      \n      if (receiverId) {\n        newSocket.emit('join_conversation', { userId, receiverId });\n      }\n    });\n\n    newSocket.on('disconnect', () => {\n      setConnectionStatus('disconnected');\n    });\n\n    newSocket.on('connect_error', (err) => {\n      console.error('Connection error:', err);\n      if (err.message.includes('auth')) {\n        localStorage.clear();\n        navigate('/login');\n      }\n    });\n\n    newSocket.on('new_message', (message) => {\n      setMessages(prev => [...prev, message]);\n    });\n\n    newSocket.on('file-sent', (fileMessage) => {\n      setMessages(prev => [...prev, fileMessage]);\n    });\n\n    // Store socket globally\n    window.socket = newSocket;\n    setSocket(newSocket);\n\n    return newSocket;\n  }, [userId, receiverId, navigate]);\n\n  useEffect(() => {\n    const newSocket = initSocket();\n\n    return () => {\n      // Clean up listeners but keep the connection alive\n      newSocket?.off('connect');\n      newSocket?.off('disconnect');\n      newSocket?.off('connect_error');\n      newSocket?.off('new_message');\n      newSocket?.off('file-sent');\n    };\n  }, [initSocket]);\n\n  const handleFileUpload = (event: React.ChangeEvent<HTMLInputElement>) => {\n    if (event.target.files?.[0] && socket) {\n      const file = event.target.files[0];\n      setUploadedFiles(prev => [...prev, file]);\n\n      const formData = new FormData();\n      formData.append('file', file);\n      formData.append('senderId', userId ?? 'defaultUserId');\n      if (receiverId) {\n        formData.append('receiverId', receiverId);\n      }\n\n      socket.emit('fileUpload', formData, (response: any) => {\n        if (response.status !== 'success') {\n          console.error('File upload failed:', response.message);\n        }\n      });\n    }\n  };\n\n  const handleSendMessage = (message: string) => {\n    if (socket) {\n      const messageData = receiverId \n        ? { senderId: userId, receiverId, content: message }\n        : { senderId: userId, content: message };\n\n      socket.emit('send_message', messageData, (response: any) => {\n        if (response.status !== 'success') {\n          console.error('Message sending failed:', response.message);\n        }\n      });\n    }\n  };\n\n  return (\n    <div className=\"chat-container\">\n      <div className=\"chat-header\">\n        <h1>Chat Room - User: {localStorage.getItem('username')}</h1>\n        {clientId && (\n          <div>\n            <p>Connection ID: {clientId}</p>\n            <p>Status: {connectionStatus}</p>\n          </div>\n        )}\n      </div>\n      <div className=\"chat-content\">\n        {userId && (\n          <>\n            <MessageList messages={messages} currentUserId={userId} />\n            <UploadedFiles files={uploadedFiles} />\n            <div className=\"chat-input-area\">\n              <label htmlFor=\"file-upload\" className=\"file-upload-icon\">\n              </label>\n              <input\n                id=\"file-upload\"\n                type=\"file\"\n                style={{ display: 'none' }}\n                onChange={handleFileUpload}\n              />\n              <MessageInput onSend={handleSendMessage} />\n            </div>\n          </>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default ChatWindow;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}