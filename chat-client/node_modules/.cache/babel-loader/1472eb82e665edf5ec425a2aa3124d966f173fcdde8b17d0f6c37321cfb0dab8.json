{"ast":null,"code":"import { io } from 'socket.io-client';\nclass SocketService {\n  constructor() {\n    this.socket = null;\n  }\n  // Initialize WebSocket connection\n  async initializeSocket(accessToken) {\n    if (this.socket) {\n      console.log('Socket already initialized');\n      return;\n    }\n    console.log('Initializing socket with token:', accessToken);\n\n    // Assuming your server is running on http://localhost:8080 and requires a Bearer token for authentication\n    this.socket = io('http://localhost:8080', {\n      auth: {\n        token: accessToken // Pass the JWT token for authentication\n      },\n      transports: ['websocket']\n    });\n    this.socket.on('ononnect', () => {\n      var _this$socket;\n      console.log('WebSocket connected:', (_this$socket = this.socket) === null || _this$socket === void 0 ? void 0 : _this$socket.id);\n    });\n    this.socket.on('disconnect', () => {\n      console.log('WebSocket disconnected');\n    });\n    this.socket.on('connect_error', err => {\n      console.error('Connection error:', err);\n    });\n    this.socket.on('connect_timeout', () => {\n      console.log('Connection timeout');\n    });\n\n    // Optionally, listen to any other events that your server might emit\n    this.socket.on('message', message => {\n      console.log('Message received:', message);\n    });\n  }\n\n  // Disconnect the socket\n  disconnect() {\n    if (this.socket) {\n      console.log('Disconnecting WebSocket...');\n      this.socket.disconnect();\n      this.socket = null;\n    }\n  }\n\n  // You can add more methods here for sending messages, joining rooms, etc.\n}\nexport const socketService = new SocketService();","map":{"version":3,"names":["io","SocketService","constructor","socket","initializeSocket","accessToken","console","log","auth","token","transports","on","_this$socket","id","err","error","message","disconnect","socketService"],"sources":["C:/Users/DELL/Documents/projects/suxch/chat-client/src/services/socket.ts"],"sourcesContent":["import { io, Socket } from 'socket.io-client';\n\nclass SocketService {\n  private socket: Socket | null = null;\n\n  // Initialize WebSocket connection\n  async initializeSocket(accessToken: string): Promise<void> {\n    if (this.socket) {\n      console.log('Socket already initialized');\n      return;\n    }\n\n    console.log('Initializing socket with token:', accessToken);\n\n    // Assuming your server is running on http://localhost:8080 and requires a Bearer token for authentication\n    this.socket = io('http://localhost:8080', {\n      auth: {\n        token: accessToken, // Pass the JWT token for authentication\n      },\n      transports: ['websocket'],\n    });\n\n    this.socket.on('ononnect', () => {\n      console.log('WebSocket connected:', this.socket?.id);\n    });\n\n    this.socket.on('disconnect', () => {\n      console.log('WebSocket disconnected');\n    });\n\n    this.socket.on('connect_error', (err) => {\n      console.error('Connection error:', err);\n    });\n\n    this.socket.on('connect_timeout', () => {\n      console.log('Connection timeout');\n    });\n\n    // Optionally, listen to any other events that your server might emit\n    this.socket.on('message', (message) => {\n      console.log('Message received:', message);\n    });\n  }\n\n  // Disconnect the socket\n  disconnect(): void {\n    if (this.socket) {\n      console.log('Disconnecting WebSocket...');\n      this.socket.disconnect();\n      this.socket = null;\n    }\n  }\n\n  // You can add more methods here for sending messages, joining rooms, etc.\n}\n\nexport const socketService = new SocketService();\n"],"mappings":"AAAA,SAASA,EAAE,QAAgB,kBAAkB;AAE7C,MAAMC,aAAa,CAAC;EAAAC,YAAA;IAAA,KACVC,MAAM,GAAkB,IAAI;EAAA;EAEpC;EACA,MAAMC,gBAAgBA,CAACC,WAAmB,EAAiB;IACzD,IAAI,IAAI,CAACF,MAAM,EAAE;MACfG,OAAO,CAACC,GAAG,CAAC,4BAA4B,CAAC;MACzC;IACF;IAEAD,OAAO,CAACC,GAAG,CAAC,iCAAiC,EAAEF,WAAW,CAAC;;IAE3D;IACA,IAAI,CAACF,MAAM,GAAGH,EAAE,CAAC,uBAAuB,EAAE;MACxCQ,IAAI,EAAE;QACJC,KAAK,EAAEJ,WAAW,CAAE;MACtB,CAAC;MACDK,UAAU,EAAE,CAAC,WAAW;IAC1B,CAAC,CAAC;IAEF,IAAI,CAACP,MAAM,CAACQ,EAAE,CAAC,UAAU,EAAE,MAAM;MAAA,IAAAC,YAAA;MAC/BN,OAAO,CAACC,GAAG,CAAC,sBAAsB,GAAAK,YAAA,GAAE,IAAI,CAACT,MAAM,cAAAS,YAAA,uBAAXA,YAAA,CAAaC,EAAE,CAAC;IACtD,CAAC,CAAC;IAEF,IAAI,CAACV,MAAM,CAACQ,EAAE,CAAC,YAAY,EAAE,MAAM;MACjCL,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAC;IACvC,CAAC,CAAC;IAEF,IAAI,CAACJ,MAAM,CAACQ,EAAE,CAAC,eAAe,EAAGG,GAAG,IAAK;MACvCR,OAAO,CAACS,KAAK,CAAC,mBAAmB,EAAED,GAAG,CAAC;IACzC,CAAC,CAAC;IAEF,IAAI,CAACX,MAAM,CAACQ,EAAE,CAAC,iBAAiB,EAAE,MAAM;MACtCL,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAC;IACnC,CAAC,CAAC;;IAEF;IACA,IAAI,CAACJ,MAAM,CAACQ,EAAE,CAAC,SAAS,EAAGK,OAAO,IAAK;MACrCV,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAAES,OAAO,CAAC;IAC3C,CAAC,CAAC;EACJ;;EAEA;EACAC,UAAUA,CAAA,EAAS;IACjB,IAAI,IAAI,CAACd,MAAM,EAAE;MACfG,OAAO,CAACC,GAAG,CAAC,4BAA4B,CAAC;MACzC,IAAI,CAACJ,MAAM,CAACc,UAAU,CAAC,CAAC;MACxB,IAAI,CAACd,MAAM,GAAG,IAAI;IACpB;EACF;;EAEA;AACF;AAEA,OAAO,MAAMe,aAAa,GAAG,IAAIjB,aAAa,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}